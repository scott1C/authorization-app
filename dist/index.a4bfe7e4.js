function e(e){return e.length>=10}function t(e,t){const n=document.createElement("div");n.classList.add("modal");const i=`\n        <h1>${e}</h1>\n        <div class="modal-content">${t}</div>\n    `;n.innerHTML=i,mui.overlay("on",n)}class n{static create(e){return fetch("https://authorization-app-88153-default-rtdb.firebaseio.com/questions.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>(e.id=t.name,e))).then(i).then(n.renderList)}static renderList(){const e=o(),t=e.length?e.map(a).join(""):'<div class="mui--text-headline">You have not entered something, yet</div>';document.getElementById("list").innerHTML=t}static fetch(e){return e?fetch(`https://authorization-app-88153-default-rtdb.firebaseio.com/questions.json?auth=${e}`).then((e=>e.json())).then((e=>e&&e.error?`<p class="error">${e.error}</p>`:e?Object.keys(e).map((t=>({...e[t],id:t}))):[])):Promise.resolve('<p class="error">You do not have a token</p>')}static listToHTML(e){return e.length?`<ol>${e.map((e=>`<li>${e.text}</li>`)).join("")}</ol>`:"<p>There are not any questions, yet</p>"}}function i(e){const t=o();t.push(e),localStorage.setItem("questions",JSON.stringify(t))}function o(){return JSON.parse(localStorage.getItem("questions")||"[]")}function a(e){return e?`\n        <div class="mui--text-black-54">\n            ${new Date(e.date).toLocaleDateString()}\n            ${new Date(e.date).toLocaleTimeString()}\n        </div>\n        ${e.text}\n        <br>\n        <br>\n    `:""}function r(e,t){return fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB7hrpvdxxDDsg86QASiTlTX3gzmudNbFo",{method:"POST",body:JSON.stringify({email:e,password:t,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.idToken))}const s=document.getElementById("form"),l=document.getElementById("modal-btn"),d=document.querySelector("#question-input"),u=document.querySelector("#submit");function c(e){e.preventDefault();const t=e.target.querySelector("button"),i=e.target.querySelector("#email").value,o=e.target.querySelector("#password").value;t.disabled=!0,r(i,o).then(n.fetch).then(m).then((()=>t.disabled=!1))}function m(e){"string"==typeof e?t("Error!",e):t("List of the questions: ",n.listToHTML(e))}window.addEventListener("load",n.renderList),s.addEventListener("submit",(function(t){if(t.preventDefault(),e(d.value)){const e={text:d.value.trim(),date:(new Date).toJSON()};n.create(e).then((()=>{d.value="",d.className="",u.disabled=!0}))}})),l.addEventListener("click",(function(){t("Authorization",'\n        <form class="mui-form" id="auth-form">\n            <div class="mui-textfield mui-textfield--float-label">\n                <input type="email" id="email" required>\n                <label for="email">Email</label>\n            </div>\n            <div class="mui-textfield mui-textfield--float-label">\n                <input type="password" id="password" required>\n                <label for="password">Password</label>\n            </div>\n            <button type="submit" class="mui-btn mui-btn--raised mui-btn--primary">\n                Log In\n            </button>\n        </form>\n    '),document.getElementById("auth-form").addEventListener("submit",c,{once:!0})})),d.addEventListener("input",(()=>{u.disabled=!e(d.value)}));